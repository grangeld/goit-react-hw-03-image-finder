{"version":3,"sources":["component/Searchbar/Searchbar.jsx","component/api/api.js","component/ImageGalleryItem/ImageGalleryItem.jsx","component/ImageGallery/ImageGallery.jsx","component/Button/Button.jsx","component/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","onSubmit","useState","search","setSearch","className","e","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","api","pageImg","axios","get","catch","error","console","log","ImageGalleryItem","imgData","onShowModal","onClick","largeImageURL","tags","src","webformatURL","alt","ImageGallery","children","map","data","index","Button","onLoadMoreImg","Modal","picture","description","onCloseModal","useEffect","onKeyup","key","window","addEventListener","removeEventListener","event","target","App","imgList","setImgList","setPageImg","imgName","setImgName","showModal","setShowModal","showSpiner","setShowSpiner","setPicture","setDescription","handleShowModal","img","prevState","handleShowPictures","imgApi","then","response","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","trim","length","style","textAlign","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e4c481ab.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  return (\n    <header\n      className=\"Searchbar\"\n      onSubmit={e => {\n        e.preventDefault();\n        onSubmit(search);\n      }}\n    >\n      <form className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={search}\n          onChange={e => {\n            setSearch(e.currentTarget.value);\n          }}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst api = (search, pageImg) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${search}&page=${pageImg}&key=19837689-b4668a99c8160a282132f247e&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n\n    .catch(function (error) {\n      // handle error\n      console.log(error);\n    });\n};\n\nexport default api;\n","const ImageGalleryItem = ({ imgData, onShowModal }) => {\n  return (\n    <li\n      className=\"ImageGalleryItem\"\n      onClick={() => onShowModal(imgData.largeImageURL, imgData.tags)}\n    >\n      <img\n        src={imgData.webformatURL}\n        alt={imgData.tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ children, onShowModal }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {children.map((data, index) => (\n        <ImageGalleryItem\n          key={index}\n          imgData={data}\n          onShowModal={onShowModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","const Button = ({ onLoadMoreImg }) => {\n  return (\n    <button\n      className=\"Button\"\n      onClick={() => {\n        onLoadMoreImg();\n      }}\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import { useEffect } from 'react';\n\nconst Modal = ({ picture, description, onCloseModal }) => {\n  const handleCloseModal = event => {\n    if (event.target === event.currentTarget) onCloseModal();\n  };\n\n  useEffect(() => {\n    function onKeyup(e) {\n      if (e.key === 'Escape') {\n        onCloseModal();\n      }\n    }\n    window.addEventListener('keyup', onKeyup);\n    return () => window.removeEventListener('keyup', onKeyup);\n  });\n\n  return (\n    <div className=\"Overlay\" onClick={handleCloseModal}>\n      <div className=\"Modal\">\n        <img src={picture} alt={description} />\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './component/Searchbar';\nimport imgApi from './component/api/api';\nimport ImageGallery from './component/ImageGallery';\nimport Button from './component/Button';\nimport Modal from './component/Modal';\n\nfunction App() {\n  const [imgList, setImgList] = useState([]);\n  const [pageImg, setPageImg] = useState(1);\n  const [imgName, setImgName] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showSpiner, setShowSpiner] = useState(false);\n  const [picture, setPicture] = useState('');\n  const [description, setDescription] = useState('');\n\n  const handleSubmit = value => {\n    setPageImg(1);\n    setImgList([]);\n    setImgName(value.trim(), handleShowPictures(value.trim()));\n  };\n\n  const handleShowModal = (img, alt) => {\n    if (!showModal) {\n      setDescription(prevState => alt);\n      setPicture(prevState => img);\n      setShowModal(true);\n    } else {\n      setShowModal(false);\n    }\n  };\n\n  const handleLoadMoreImg = () => {\n    setPageImg(prevState => prevState + 1);\n  };\n\n  const handleShowPictures = (value = imgName) => {\n    setShowSpiner(true);\n    imgApi(value, pageImg)\n      .then(response => {\n        setImgList(prevState => [...prevState, ...response.data.hits]);\n      })\n      .then(() => setShowSpiner(false))\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  useEffect(\n    () => {\n      if (pageImg === 1) return;\n      handleShowPictures();\n    },\n    // eslint-disable-next-line\n    [pageImg],\n  );\n\n  const style = { textAlign: 'center' };\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSubmit} />\n\n      <ImageGallery onShowModal={handleShowModal}>{imgList}</ImageGallery>\n      {imgList.length > 0 && !showSpiner && (\n        <Button onLoadMoreImg={handleLoadMoreImg} />\n      )}\n      {showModal && (\n        <Modal\n          picture={picture}\n          description={description}\n          onCloseModal={handleShowModal}\n        />\n      )}\n      {showSpiner && (\n        <div style={style}>\n          <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}